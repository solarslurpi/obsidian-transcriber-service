

TESTING Jun 25.

1.  multiple injection of same url.
- start transcription with youtube short: https://www.youtube.com/shorts/AJtTZpBmIUY (it is a short video)
- the transcription setting is on audio quality = tiny. NOTE: The frontmatter might have come from a higher transcription - so initially we should think about saving this state.

SUCCESS: Transcript repeatedly made.  if exists, the old one is deleted.


TEST 1: Transcxriber Service Fresh Start.Obsidian Fresh Start.  Ground truth.  Everything is "freshly started" both the client (obsidian) and server ( our fastapi transcription service)


SSE MESSAGES:

us message**: Starting Transcription.
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:06 debug: **status message**: Metadata extraction started.
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:12 debug: **status message**: 0.2% of 489.87KiB at 250.57KiB/s ETA 00:01
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:12 debug: **status message**: 0.6% of 489.87KiB at 375.40KiB/s ETA 00:01
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:12 debug: **status message**: 1.4% of 489.87KiB at 636.70KiB/s ETA 00:00
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:12 debug: **status message**: 3.1% of 489.87KiB at 937.85KiB/s ETA 00:00
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:12 debug: **status message**: 6.3% of 489.87KiB at 1.26MiB/s ETA 00:00
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:12 debug: **status message**: 12.9% of 489.87KiB at 2.05MiB/s ETA 00:00
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:12 debug: **status message**: 25.9% of 489.87KiB at 2.14MiB/s ETA 00:00
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:12 debug: **status message**: 52.1% of 489.87KiB at 3.47MiB/s ETA 00:00
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:12 debug: **status message**: 100.0% of 489.87KiB at 4.94MiB/s ETA 00:00
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:12 debug: **status message**: 100% of 489.87KiB in 00:00:00 at 2.16MiB/s
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:13 debug: !!! A Content event: {"filename": "Latest podcast with pathologist  Dr Nicole Gauthier talks about powdery mildew, botrytis, and more!"}!!!
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:13 debug: **data:filename**: Latest podcast with pathologist  Dr Nicole Gauthier talks about powdery mildew, botrytis, and more!
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:13 debug: --> KNOWN PROPERTIES: filename, numChapters
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:13 debug: --> MISSING PROPERTIES: chapters, frontmatter
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: !!! A Content event: {"num_chapters": 1}!!!
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: **data:num_chapters**: 1
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: --> KNOWN PROPERTIES: filename, numChapters
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: --> MISSING PROPERTIES: chapters, frontmatter
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: !!! A Content event: {"chapter": {"title": "Latest podcast with pathologist  Dr Nicole Gauthier talks about powdery mildew, botrytis, and more!", "start_time": 0.0, "end_time": 0.0, "transcript": " So plant diseases are the plants reaction to an infection. Okay, so there's infection and there are symptoms. So infection is when the pathogen, that's the fungus or bacterium or virus, when it infects the plant. So it can be days, weeks, months, depending on the system before you actually see symptoms and it's those symptoms that we call disease. So our symptoms can be wilt or leave curl or marginal leaf scorch or gliding. So the symptom is usually how we name a plant disease."}, "number": 1}!!!
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: addChapter incoming data:
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: **data:chapter**: [object Object]
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: --> KNOWN PROPERTIES: filename, numChapters, chapters
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: --> MISSING PROPERTIES: frontmatter
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: !!! A Content event: {"metadata": {"youtube_url": "https://www.youtube.com/shorts/AJtTZpBmIUY", "title": "Latest podcast with pathologist  Dr Nicole Gauthier talks about powdery mildew, botrytis, and more!", "audio_quality": "tiny", "tags": "", "description": "", "duration": "0:00:35", "channel": "KIS Organics", "upload_date": "20240612", "uploader_id": "@kisorganics", "download_time": 7, "transcription_time": 3}}!!!
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: **data:frontmatter**: ---
youtube_url: https://www.youtube.com/shorts/AJtTZpBmIUY
title: >-
  Latest podcast with pathologist  Dr Nicole Gauthier talks about powdery
  mildew, botrytis, and more!
tags: []
description: ''
uploader_id: '@kisorganics'
channel: KIS Organics
upload_date: '20240612'
duration: '0:00:35'
download_time: 7
transcription_time: 3
audio_quality: tiny
---

plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: -->state is complete
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: process_audio.saveTranscript: Saving transcript to transcripts/Latest podcast with pathologist  Dr Nicole Gauthier talks about powdery mildew, botrytis, and more!.md
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: process_audio.saveTranscript: Saving transcript to transcripts/Latest podcast with pathologist  Dr Nicole Gauthier talks about powdery mildew, botrytis, and more!.md
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: process_audio.saveTranscript: Creating new file: transcripts/Latest podcast with pathologist  Dr Nicole Gauthier talks about powdery mildew, botrytis, and more!.md
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: process_audio.saveTranscript: Transcript saved to transcripts/Latest podcast with pathologist  Dr Nicole Gauthier talks about powdery mildew, botrytis, and more!.md
plugin:obsidian-transcriber-plugin:5897 2024-06-25 04:58:17 debug: process_audio.closeEventSource: EventSource closed.

TEST 1 RESULTS: SUCCESS. TRANSCRIPT CREATED.
-------------------------------------
TEST 2: Use the same youtube URL from POSTMAN. WHY POSTMAN? Because it takes away problems with the obsidian client so we can focus first on the server now that we have the baseline.  I open postman and send the sse get request to connect to the sse channel, the i post to the Youtube URL: https://www.youtube.com/shorts/AJtTZpBmIUY 

- Postman show the following traffic:
id: 1
event: status
data: Starting Transcription.
retry: 3000
id: 2
event: data
data: {"num_chapters": 1}
retry: 3000
id: 3
event: data
data: {"chapter": {"title": "Latest podcast with pathologist  Dr Nicole Gauthier talks about powdery mildew, botrytis, and more!", "start_time": 0.0, "end_time": 0.0, "transcript": " So plant diseases are the plants reaction to an infection. Okay, so there's infection and there are symptoms. So infection is when the pathogen, that's the fungus or bacterium or virus, when it infects the plant. So it can be days, weeks, months, depending on the system before you actually see symptoms and it's those symptoms that we call disease. So our symptoms can be wilt or leave curl or marginal leaf scorch or gliding. So the symptom is usually how we name a plant disease."}, "number": 1}
retry: 3000
id: 4
event: data
data: {"metadata": {"youtube_url": "https://www.youtube.com/shorts/AJtTZpBmIUY ", "title": "Latest podcast with pathologist  Dr Nicole Gauthier talks about powdery mildew, botrytis, and more!", "audio_quality": "default", "tags": "", "description": "", "duration": "0:00:35", "channel": "KIS Organics", "upload_date": "20240612", "uploader_id": "@kisorganics", "download_time": 7, "transcription_time": 2}}

--> RESULT: filename had not been sent. WHY?


